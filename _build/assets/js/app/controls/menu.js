define(["can"],function(){var e=can.Control.extend({defaults:{menuItemClass:"js-menu_item",activeClassName:"menu_item--active",arrowActiveMenuClassName:"menu_item_arrow",hideClass:"_hide"}},{init:function(){var e=this.options,t=can.view(e.viewPath+e.menu.template,e.menu.menuItems);this.element.html(t),can.route.bind("change",can.proxy(this.setActiveMenuItem,this))},setActiveMenuItem:function(){var e=this.options;$("."+e.activeClassName,this.element).removeClass(e.activeClassName),$("."+e.arrowActiveMenuClassName,this.element).addClass(e.hideClass);var t=can.route._getHash();if(""===t)return this.lightActiveItem(e.menu.menuItems[0].id),void 0;var n=this;can.each(e.menu.menuItems,function(e){!e.url||t!==e.url&&-1===t.indexOf(e.url+"/")||n.lightActiveItem(e.id)})},lightActiveItem:function(e){var t=$("#"+e,this.element),n=this.options;t.addClass(n.activeClassName),$("."+n.arrowActiveMenuClassName,t).removeClass(n.hideClass)}});return e});