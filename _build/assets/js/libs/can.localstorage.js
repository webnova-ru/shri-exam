can.Model("can.Model.LocalStorage",{localStore:function(t){var e=this.storageName,n=JSON.parse(window.localStorage[e]||(window.localStorage[e]="[]")),r=t.call(this,n);r!==!1&&(can.each(n,function(t){delete t.editing}),window.localStorage[e]=JSON.stringify(n))},findAll:function(){var t=new can.Deferred;return this.localStore(function(e){var n=[],r=this;can.each(e,function(t){n.push(new r(t))}),t.resolve({data:n})}),t},destroy:function(t){var e=new can.Deferred;return this.localStore(function(n){for(var r=0;r<n.length;r++)if(n[r].id===t){n.splice(r,1);break}e.resolve({})}),e},create:function(t){var e=new can.Deferred;return this.localStore(function(e){t.id=t.id||parseInt(1e5*Math.random(),10),e.push(t)}),e.resolve({id:t.id}),e},update:function(t,e){var n,r=new can.Deferred;return this.localStore(function(r){for(var i=0;i<r.length;i++)if(r[i].id===t){n=r[i];break}can.extend(n,e)}),r.resolve({}),r}},{});